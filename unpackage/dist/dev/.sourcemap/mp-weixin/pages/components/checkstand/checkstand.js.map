{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/版本/workingstore/main.js","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?93c1","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?78a2","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?4449","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?32bf","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?5f7b","webpack:///C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue?fcc9"],"names":["createPage","Page","data","enough","checked","amount","payprice","discountPrince","amountsPayable","balance","n_coupon","n_money","use_balance","use_n_coupon","use_n_money","shop_id","sum","cash","remaining","$src","onLoad","url","then","res","console","log","code","tmp","sumAmount","discountCoupon","account","uni","showToast","title","icon","methods","changeChecked","createOrderOffline","discount_account","method","msg","getStorage","key","fail","success","setStorage","token","redirectUrl","encodeURIComponent","code_no","window","location","href","money","event","parseInt","detail","value","setTimeout","price","userCash","parseFloat","toFixed","changeBalance","target","userBalance"],"mappings":"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","file":"pages/components/checkstand/checkstand.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/components/checkstand/checkstand.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./checkstand.vue?vue&type=template&id=ad2fbe6a&\"\nvar renderjs\nimport script from \"./checkstand.vue?vue&type=script&lang=js&\"\nexport * from \"./checkstand.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkstand.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"C:/Users/Administrator/Desktop/版本/workingstore/pages/components/checkstand/checkstand.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkstand.vue?vue&type=template&id=ad2fbe6a&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkstand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkstand.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\trequest\n} from \"../../request.js\"\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tenough: 1,\n\t\t\tchecked: true,\n\t\t\tamount: 0, //订单总金额(未折扣)\n\t\t\tpayprice: \"\", //需要支付的金额\n\t\t\tdiscountPrince: \"\", //折扣了的金额\n\t\t\tamountsPayable: 0, //应付金额\n\t\t\tbalance: \"\", //用户余额\n\t\t\tn_coupon: \"\", //用户折扣券\n\t\t\tn_money: \"\", //用户现金券\n\t\t\tuse_balance: 180, //用户使用的余额\n\t\t\tuse_n_coupon: 0, //用户使用的折扣券\n\t\t\tuse_n_money: 0, //用户使用的现金券\n\t\t\tshop_id: \"\",\n\t\t\tsum: '', //应付总额\n\t\t\tcash: '', //用户输入的现金券\n\t\t\tremaining: '', //用户输入的余额\n\t\t\t$src: this.$src\n\t\t};\n\t},\n\tonLoad() {\n\t\trequest({\n\t\t\turl: \"index.php?s=/wap/order/payOfflineOrder\",\n\t\t}).then(res => {\n\t\t\tconsole.log(res);\n\t\t\tif (res.data.code == 200) {\n\t\t\t\tlet tmp = res.data;\n\t\t\t\t// console.log(tmp.sumAmount);\n\t\t\t\tthis.payprice = tmp.sumAmount;\n\t\t\t\tthis.amount = tmp.amount;\n\t\t\t\tthis.discountPrince = tmp.discountCoupon;\n\t\t\t\tthis.balance = tmp.account.balance;\n\t\t\t\tthis.n_coupon = tmp.account.n_coupon;\n\t\t\t\tthis.n_money = tmp.account.n_money;\n\t\t\t\tthis.shop_id = tmp.shop_id\n\t\t\t\tthis.use_n_coupon = tmp.discountCoupon;\n\t\t\t\tthis.sum = tmp.sumAmount;\n\t\t\t\tthis.enough = tmp.enough;\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"获取订单失败!\",\n\t\t\t\t\ticon: \"none\",\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t},\n\tmethods: {\n\t\tchangeChecked() {\n\t\t\tthis.checked = !this.checked\n\t\t},\n\t\t// 点击微信支付\n\t\tcreateOrderOffline() {\n\t\t\trequest({\n\t\t\t\turl: \"index.php?s=/wap/order/createOfflineOrder\",\n\t\t\t\tdata: {\n\t\t\t\t\tshop_id: this.shop_id, //店铺ID\n\t\t\t\t\tuse_balance: this.remaining, //使用的余额\n\t\t\t\t\tuse_n_money: this.cash, //使用的现金券\n\t\t\t\t\tuse_n_coupon: this.use_n_coupon, //使用的折扣券\n\t\t\t\t\tdiscount_account: this.payprice, //计算了折扣后的金额 就是后台返回来的金额\n\t\t\t\t\tamountsPayable: this.sum, //用户需要支付的金额   就是需要调用微信支付的金额\n\t\t\t\t\tamount: this.amount, //订单的总金额  后台给你的\n\t\t\t\t},\n\t\t\t\tmethod: \"POST\"\n\t\t\t}).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tlet data = res.data.msg;\n\t\t\t\tif (res.data.code > 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: data,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\tvar tmp = res;\n\t\t\t\t\tuni.getStorage({\n\t\t\t\t\t\tkey: 'token',\n\t\t\t\t\t\tfail: res => {},\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\t\tkey: 'price',\n\t\t\t\t\t\t\t\tdata: this.sum\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet token = res.data[0];\n\t\t\t\t\t\t\tlet redirectUrl = encodeURIComponent(\"https://admin.dxsc.vip/index.php?s=/wap/pay/ApiwchatPay&no=\" + tmp.data\n\t\t\t\t\t\t\t\t.code_no + \"&token=\" + token);\n\t\t\t\t\t\t\tlet url = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7cffa961be69b86e&redirect_uri=' +\n\t\t\t\t\t\t\t\tredirectUrl + '&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect';\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: res.data.msg,\n\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 现金券\n\t\tmoney(event) {\n\t\t\tthis.cash = parseInt(event.detail.value) || 0;\n\t\t\tif (this.n_money == 0 || !this.n_money) {\n\t\t\t\t// uni的bug\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.cash = 0;\n\t\t\t\t}, 50)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '现金券为零',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\t// 如果输入金额大于商品总额,显示商品总额\n\t\t\t\t// 如果用户存在现金券\n\t\t\t\tthis.cash = parseInt(event.detail.value) || 0;\n\t\t\t\t// 当前应付总额\n\t\t\t\tlet price = this.payprice;\n\t\t\t\t// 当前用户拥有的现金券\n\t\t\t\tlet userCash = parseFloat(this.n_money);\n\t\t\t\t// 当前用户输入的现金券和余额的总和\n\t\t\t\tlet sum = this.cash + (parseInt(this.remaining) ? parseInt(this.remaining) : 0);\n\t\t\t\t// 支付总额大于用户现有现金券,默认最大输入位当前现金券(this.n_money)\n\t\t\t\tif (this.remaining == '') {\n\t\t\t\t\t// 如果用户现金券小于当前的支付金额\n\t\t\t\t\tif (userCash < price) {\n\t\t\t\t\t\t// 输入现金券大于用户的现金券\n\t\t\t\t\t\tif (this.cash > userCash) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.cash = userCash;\n\t\t\t\t\t\t\t\tthis.sum = (price - this.cash).toFixed(2)\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.cash).toFixed(2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 如果用户现金券大于当前的支付金额\n\t\t\t\t\telse {\n\t\t\t\t\t\t// 输入现金券大于当前的总价\n\t\t\t\t\t\tif (this.cash > price) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.cash = price\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\tthis.sum = 0\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.cash).toFixed(2)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 如果用户输入的余额不为空\n\t\t\t\telse if (this.remaining != '') {\n\t\t\t\t\t// 如果用户拥有的现金券大于当前商品的总价\n\t\t\t\t\tif (userCash > price) {\n\t\t\t\t\t\t// 当前余额+现金券大于支付总额\n\t\t\t\t\t\tif (sum >= price) {\n\t\t\t\t\t\t\t// 输入的现金券小于当前支付总额\n\t\t\t\t\t\t\tif (this.cash < price) {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.remaining = (price - this.cash).toFixed(2);\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\t\tthis.sum = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// 输入的现金券大于当前商品价格\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.cash = price;\n\t\t\t\t\t\t\t\t\tthis.remaining = 0\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\t\tthis.sum = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 如果用户拥有的现金券小于当前商品的总价\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (sum >= price) {\n\t\t\t\t\t\t\t// 如果输入的现金券大于用户的现金券\n\t\t\t\t\t\t\tif (this.cash > userCash) {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.cash = userCash;\n\t\t\t\t\t\t\t\t\tthis.sum = (price - this.remaining - userCash).toFixed(2)\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 余额\n\t\tchangeBalance(event) {\n\t\t\t// 如果用户存在现金券\n\t\t\tthis.remaining = parseInt(event.target.value) || 0;\n\t\t\tif (this.balance == 0 || !this.balance) {\n\t\t\t\t// uni的bug\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.remaining = 0;\n\t\t\t\t}, 50)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '余额为零',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} else {\n\t\t\t\t// 当前要支付的总价\n\t\t\t\tlet price = this.payprice;\n\t\t\t\t// 当前用户拥有的余额\n\t\t\t\tlet userBalance = parseFloat(this.balance);\n\t\t\t\t// 当前用户输入的现金券和余额的总和\n\t\t\t\tlet sum = this.remaining + (parseInt(this.cash) ? parseInt(this.cash) : 0);\n\t\t\t\t// 如果现金券等于价格，默认给0\n\t\t\t\tif (this.cash == price) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.remaining = 0;\n\t\t\t\t\t}, 50)\n\t\t\t\t}\n\t\t\t\t// 如果用户没有输入现金券\n\t\t\t\tif (this.cash == '' || this.cash == 0) {\n\t\t\t\t\t// 如果余额存在且余额大于支付总额\n\t\t\t\t\tif (userBalance && userBalance >= price) {\n\t\t\t\t\t\tif (this.remaining > price) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.remaining = price;\n\t\t\t\t\t\t\t}, 50);\n\t\t\t\t\t\t\tthis.sum = 0\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining).toFixed(2)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 余额存在且余额小于支付总额\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (this.remaining > userBalance) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.remaining = userBalance;\n\t\t\t\t\t\t\t\tthis.sum = (price - this.remaining).toFixed(2)\n\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining).toFixed(2)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// 用户输入了现金券\n\t\t\t\telse {\n\t\t\t\t\t// 如果余额存在且余额大于支付总额\n\t\t\t\t\tif (userBalance && userBalance >= price) {\n\t\t\t\t\t\tif (this.remaining > price - this.cash) {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.remaining = (price - this.cash).toFixed(2)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.sum = 0;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 余额小于支付总额\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (this.remaining > userBalance) {\n\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t\t\tthis.remaining = userBalance;\n\t\t\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2)\n\t\t\t\t\t\t\t\t}, 50)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sum = (price - this.remaining - this.cash).toFixed(2)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t},\n}\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkstand.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./checkstand.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589004973173\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}