(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-components-order-order"],{"05fd":function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-e1b75bac]{background:#efeff4}.nav-box[data-v-e1b75bac]{box-sizing:border-box;line-height:%?90?%;height:%?90?%;background:#fff}.nav-box .nav[data-v-e1b75bac]{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:1px solid #e5e5e5}.nav-box .nav .nav-item[data-v-e1b75bac]{box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?30?%;color:#444;border-right:1px solid #e5e5e5}.nav-box .nav .nav-item[data-v-e1b75bac]:nth-child(5){border-right:0}.nav-box .nav .nav-item.active[data-v-e1b75bac]{color:#fed940}.goods-box[data-v-e1b75bac]{box-sizing:border-box;margin-top:%?20?%;background:#fff;border-top:1px solid #e5e5e5}.goods-box .goods[data-v-e1b75bac]{box-sizing:border-box}.goods-box .goods .goods-title[data-v-e1b75bac]{box-sizing:border-box;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;color:#aaa;border-bottom:1px solid #e5e5e5;line-height:%?70?%}.goods-box .goods .goods-title uni-text[data-v-e1b75bac]:nth-child(1){-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-box .goods .product[data-v-e1b75bac]{box-sizing:border-box;padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:1px solid #e5e5e5}.goods-box .goods .product .product-img[data-v-e1b75bac]{width:%?140?%;height:%?140?%}.goods-box .goods .product .product-img uni-image[data-v-e1b75bac]{width:100%;height:100%}.goods-box .goods .product .product-title[data-v-e1b75bac]{-webkit-box-flex:1;-webkit-flex:1;flex:1;box-sizing:border-box;padding-left:%?30?%;padding-right:%?48?%}.goods-box .goods .product .product-title .title[data-v-e1b75bac]{font-size:%?30?%;color:#444}.goods-box .goods .product .product-title .params[data-v-e1b75bac]{font-size:%?24?%;color:#aaa}.goods-box .goods .product .product-price[data-v-e1b75bac]{box-sizing:border-box}.goods-box .goods .product .product-price .price[data-v-e1b75bac]{font-size:%?30?%;color:#000}.goods-box .goods .product .product-price .number[data-v-e1b75bac]{font-size:%?24?%;color:#aaa;text-align:right}.goods-box .goods .total[data-v-e1b75bac]{box-sizing:border-box;padding:0 %?30?%;font-size:%?24?%;border-bottom:1px solid #e5e5e5;padding-bottom:%?18?%;padding-top:%?18?%;text-align:right}.goods-box .goods .total uni-view[data-v-e1b75bac]:nth-child(2){box-sizing:border-box;margin-top:%?20?%;font-size:%?24?%}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-e1b75bac]{display:inline-block;box-sizing:border-box;border:1px solid red;width:%?120?%;height:%?44?%;line-height:%?44?%;text-align:center}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-e1b75bac]:nth-child(1){margin-right:%?14?%;border:1px solid #ddd;color:#9b9b9b}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-e1b75bac]:nth-child(2){border:1px solid #b4302d;color:#b4302d}body.?%PAGE?%[data-v-e1b75bac]{background:#efeff4}',""]),e.exports=t},"086a":function(e,t,o){"use strict";o.r(t);var i=o("4b01"),n=o.n(i);for(var a in i)"default"!==a&&function(e){o.d(t,e,(function(){return i[e]}))}(a);t["default"]=n.a},"4b01":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("0708"),n={data:function(){return{baseURL:this.$api,visible:0,navList:["全部","待付款","待发货","待收货","待评价"],currentIndex:0,list:[]}},onLoad:function(e){"all"==e.status?this.currentIndex=0:this.currentIndex=e.status,this.getList()},methods:{handleNav:function(e){this.currentIndex=e,this.getList()},orderDetail:function(e){uni.navigateTo({url:"/pages/components/order-detail/order-detail?id="+e})},returnGoods:function(){uni.navigateTo({url:"/pages/components/return-goods/return-goods"})},appraise:function(){uni.navigateTo({url:"/pages/components/appraise/appraise"})},getList:function(){this.visible=0;var e="",t=this,o=parseInt(this.currentIndex);switch(o){case 0:e="all";break;case 1:e="0";break;case 2:e="1";break;case 3:e="2";break;case 4:e="3";break;default:e="6"}(0,i.request)({url:"index.php?s=/wap/order/apiMyOrderList",data:{status:e},method:"POST"}).then((function(e){t.visible=1,t.list=e.data.order_list.data,console.log(t.list)}))},OrderTakeDelivery:function(e){var t=this;uni.showModal({content:"确认收到货品了吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/OrderTakeDelivery",method:"POST",data:{order_id:e}}).then((function(e){e.data>0?(uni.showToast({title:"确认收货成功!",icon:"none"}),t.getList()):uni.showToast({title:"操作失败!",icon:"none"})}))}})},orderLogistics:function(e){uni.navigateTo({url:"/pages/components/logistics/logistics?id="+e})},orderClose:function(e){var t=this;uni.showModal({content:"确定要取消该订单吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/apiOrderClose",method:"POST",data:{order_id:e}}).then((function(e){t.getList()}))}})},orderDeleteOrder:function(e){var t=this;uni.showModal({content:"确定要删除该订单吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/apiDeleteOrder",method:"POST",data:{order_id:e}}).then((function(e){t.getList()}))}})},payOrder:function(e){if(""!=e){var t=uni.getStorageSync("token");console.log(t[0]),""!=t[0]&&null!=t[0]&&0!=t[0]||(uni.showToast({title:"登录过期!请重新登录",icon:"none"}),setTimeout((function(){uni.navigateTo({url:"/pages/components/login/login"})}),1e3));var o=encodeURIComponent("https://admin.dxsc.vip/index.php?s=/wap/pay/ApiwchatPay&no="+e+"&token="+t[0]),i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7cffa961be69b86e&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";window.location.href=i}else uni.showToast({title:"订单错误,请重新进入本页面!",icon:"none"})},orderEvaluate:function(e){uni.navigateTo({url:"/pages/components/appraise/appraise?id="+e})}}};t.default=n},7213:function(e,t,o){"use strict";var i,n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"nav-box"},[o("v-uni-view",{staticClass:"nav"},[e._l(e.navList,(function(t,i){return[o("v-uni-view",{key:i+"_0",staticClass:"nav-item ",class:{active:e.currentIndex==i},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleNav(i)}}},[o("v-uni-text",[e._v(e._s(t))])],1)]}))],2)],1),1==e.visible?o("v-uni-view",{staticClass:"animated fadeInLeft"},[e._l(e.list,(function(t,i){return[o("v-uni-view",{key:i+"_0",staticClass:"goods-box"},[o("v-uni-view",{staticClass:"goods"},[o("v-uni-view",{staticClass:"goods-title"},[o("v-uni-text",[e._v(e._s(t.create_date))]),o("v-uni-text",[e._v(e._s(t.status_name))])],1),t.order_item_list?e._l(t.order_item_list,(function(i,n){return o("v-uni-view",{key:n,staticClass:"product",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.orderDetail(t.order_id)}}},[o("v-uni-view",{staticClass:"product-img"},[o("v-uni-image",{attrs:{src:e.baseURL+i.picture.pic_cover,mode:""}})],1),o("v-uni-view",{staticClass:"product-title"},[o("v-uni-view",{staticClass:"title"},[o("v-uni-text",{staticStyle:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical",overflow:"hidden"}},[e._v(e._s(i.goods_name))])],1),o("v-uni-view",{staticClass:"params"},[o("v-uni-text",[e._v(e._s(i.sku_name))])],1)],1),o("v-uni-view",{staticClass:"product-price"},[o("v-uni-view",{staticClass:"price"},[o("v-uni-text",[e._v("￥"+e._s(i.price))])],1),o("v-uni-view",{staticClass:"number"},[o("v-uni-text",[e._v("×"+e._s(i.num))])],1)],1)],1)})):e._e(),t.order_item_list.length?e._e():[o("v-uni-view",{staticStyle:{display:"flex","align-items":"center","box-sizing":"border-box",padding:"20rpx","border-bottom":"1px solid #F6F6F6","justify-content":"space-between"}},[o("v-uni-view",{staticStyle:{display:"flex","box-sizing":"border-box","padding-right":"80rpx"}},[o("v-uni-image",{staticStyle:{width:"120rpx",height:"120rpx","margin-right":"30rpx"},attrs:{src:e.baseURL+t.shop_logo}}),o("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column","justify-content":"center"}},[o("v-uni-text",{staticStyle:{"font-size":"30rpx",color:"#474747"}},[e._v(e._s(t.shop_name))]),o("v-uni-text",{staticStyle:{"font-size":"26rpx",color:"#BFBFBF","margin-top":"20rpx"}},[e._v(e._s(t.live_store_address))])],1)],1),o("v-uni-text",[e._v(e._s(t.order_money))])],1)],o("v-uni-view",{staticClass:"total"},[o("v-uni-view",[t.order_item_list.length?o("v-uni-text",[e._v("共"+e._s(t.order_item_list.length)+"件商品，")]):e._e(),o("v-uni-text",[e._v("合计：￥"+e._s(t.order_money))]),t.order_item_list.length?o("v-uni-text",[e._v("(含运费￥"+e._s(t.shipping_money)+")")]):e._e(),t.order_item_list.length?e._e():o("v-uni-text",[e._v("(到店支付)")])],1),o("v-uni-view",[e._l(t.member_operation,(function(i,n){return["pay"==i.no?o("v-uni-text",{key:n+"_0",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.payOrder(t.out_trade_no)}}},[e._v(e._s(i.name))]):e._e(),"close"==i.no?o("v-uni-text",{key:n+"_1",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.orderClose(t.order_id)}}},[e._v(e._s(i.name))]):e._e(),"logistics"==i.no&&t.order_item_list.length?o("v-uni-text",{key:n+"_2",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.orderLogistics(t.order_id)}}},[e._v(e._s(i.name))]):e._e(),"getdelivery"==i.no?o("v-uni-text",{key:n+"_3",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.OrderTakeDelivery(t.order_id)}}},[e._v(e._s(i.name))]):e._e(),"delete_order"==i.no?o("v-uni-text",{key:n+"_4",on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.orderDeleteOrder(t.order_id)}}},[e._v(e._s(i.name))]):e._e()]})),3!=t.order_status&&4!=t.order_status||0!=t.is_evaluate?e._e():o("v-uni-text",{on:{click:function(o){arguments[0]=o=e.$handleEvent(o),e.orderEvaluate(t.order_id)}}},[e._v("评价")])],2)],1)],2)],1)]}))],2):e._e()],1)},a=[];o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return i}))},"81ec":function(e,t,o){"use strict";var i=o("9323"),n=o.n(i);n.a},9323:function(e,t,o){var i=o("05fd");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("4f06").default;n("2a455c4e",i,!0,{sourceMap:!1,shadowMode:!1})},ed8d:function(e,t,o){"use strict";o.r(t);var i=o("7213"),n=o("086a");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);o("81ec");var r,s=o("f0c5"),d=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"e1b75bac",null,!1,i["a"],r);t["default"]=d.exports}}]);