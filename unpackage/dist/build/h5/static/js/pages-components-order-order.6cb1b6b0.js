(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-components-order-order"],{"086a":function(t,e,o){"use strict";o.r(e);var i=o("4b01"),n=o.n(i);for(var a in i)"default"!==a&&function(t){o.d(e,t,(function(){return i[t]}))}(a);e["default"]=n.a},2182:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-7c632bb0]{background:#efeff4}.nav-box[data-v-7c632bb0]{box-sizing:border-box;line-height:%?90?%;height:%?90?%;background:#fff}.nav-box .nav[data-v-7c632bb0]{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;border-bottom:1px solid #e5e5e5}.nav-box .nav .nav-item[data-v-7c632bb0]{box-sizing:border-box;-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?30?%;color:#444;border-right:1px solid #e5e5e5}.nav-box .nav .nav-item[data-v-7c632bb0]:nth-child(5){border-right:0}.nav-box .nav .nav-item.active[data-v-7c632bb0]{color:#fed940}.goods-box[data-v-7c632bb0]{box-sizing:border-box;margin-top:%?20?%;background:#fff;border-top:1px solid #e5e5e5}.goods-box .goods[data-v-7c632bb0]{box-sizing:border-box}.goods-box .goods .goods-title[data-v-7c632bb0]{box-sizing:border-box;padding:0 %?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;color:#aaa;border-bottom:1px solid #e5e5e5;line-height:%?70?%}.goods-box .goods .goods-title uni-text[data-v-7c632bb0]:nth-child(1){-webkit-box-flex:1;-webkit-flex:1;flex:1}.goods-box .goods .product[data-v-7c632bb0]{box-sizing:border-box;padding:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex}.goods-box .goods .product .product-img[data-v-7c632bb0]{width:%?140?%;height:%?140?%}.goods-box .goods .product .product-img uni-image[data-v-7c632bb0]{width:100%;height:100%}.goods-box .goods .product .product-title[data-v-7c632bb0]{-webkit-box-flex:1;-webkit-flex:1;flex:1;box-sizing:border-box;padding-left:%?30?%;padding-right:%?48?%}.goods-box .goods .product .product-title .title[data-v-7c632bb0]{font-size:%?30?%;color:#444}.goods-box .goods .product .product-title .params[data-v-7c632bb0]{font-size:%?24?%;color:#aaa}.goods-box .goods .product .product-price[data-v-7c632bb0]{box-sizing:border-box}.goods-box .goods .product .product-price .price[data-v-7c632bb0]{font-size:%?30?%;color:#000}.goods-box .goods .product .product-price .number[data-v-7c632bb0]{font-size:%?24?%;color:#aaa;text-align:right}.goods-box .goods .product-status[data-v-7c632bb0]{width:96%;padding:%?10?% 2%;line-height:%?60?%;font-size:%?28?%;overflow:hidden;border-bottom:1px solid #e5e5e5}.goods-box .goods .product-status .status[data-v-7c632bb0]{color:#999;min-width:%?100?%;text-align:center;float:left}.goods-box .goods .product-status .btn[data-v-7c632bb0]{padding:0 %?20?%;border:1px solid #ccc;color:#333;float:right}.goods-box .goods .total[data-v-7c632bb0]{box-sizing:border-box;padding:0 %?30?%;font-size:%?24?%;border-bottom:1px solid #e5e5e5;padding-bottom:%?18?%;padding-top:%?18?%;text-align:right}.goods-box .goods .total uni-view[data-v-7c632bb0]:nth-child(2){box-sizing:border-box;margin-top:%?20?%;font-size:%?24?%}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-7c632bb0]{display:inline-block;box-sizing:border-box;border:1px solid red;width:%?120?%;height:%?44?%;line-height:%?44?%;text-align:center}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-7c632bb0]:nth-child(1){margin-right:%?14?%;border:1px solid #ddd;color:#9b9b9b}.goods-box .goods .total uni-view:nth-child(2) uni-text[data-v-7c632bb0]:nth-child(2){border:1px solid #b4302d;color:#b4302d}body.?%PAGE?%[data-v-7c632bb0]{background:#efeff4}',""]),t.exports=e},"29f1":function(t,e,o){var i=o("2182");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("4f06").default;n("d45dbc3c",i,!0,{sourceMap:!1,shadowMode:!1})},"4b01":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o("0708"),n={data:function(){return{baseURL:this.$api,visible:0,navList:["全部","待付款","待发货","待收货","待评价"],currentIndex:0,list:[]}},onLoad:function(t){"all"==t.status?this.currentIndex=0:this.currentIndex=t.status,this.getList()},methods:{handleNav:function(t){this.currentIndex=t,this.getList()},orderDetail:function(t){uni.navigateTo({url:"/pages/components/order-detail/order-detail?id="+t})},returnGoods:function(){uni.navigateTo({url:"/pages/components/return-goods/return-goods"})},appraise:function(){uni.navigateTo({url:"/pages/components/appraise/appraise"})},getList:function(){this.visible=0;var t="",e=this,o=parseInt(this.currentIndex);switch(o){case 0:t="all";break;case 1:t="0";break;case 2:t="1";break;case 3:t="2";break;case 4:t="3";break;default:t="6"}(0,i.request)({url:"index.php?s=/wap/order/apiMyOrderList",data:{status:t},method:"POST"}).then((function(t){e.visible=1,e.list=t.data.order_list.data}))},OrderTakeDelivery:function(t){var e=this;uni.showModal({content:"确认收到货品了吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/OrderTakeDelivery",method:"POST",data:{order_id:t}}).then((function(t){t.data>0?(uni.showToast({title:"确认收货成功!",icon:"none"}),e.getList()):uni.showToast({title:"操作失败!",icon:"none"})}))}})},orderLogistics:function(t){uni.navigateTo({url:"/pages/components/logistics/logistics?id="+t})},orderClose:function(t){var e=this;uni.showModal({content:"确定要取消该订单吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/apiOrderClose",method:"POST",data:{order_id:t}}).then((function(t){e.getList()}))}})},orderDeleteOrder:function(t){var e=this;uni.showModal({content:"确定要删除该订单吗？",success:function(o){o.confirm&&(0,i.request)({url:"index.php?s=/wap/order/apiDeleteOrder",method:"POST",data:{order_id:t}}).then((function(t){e.getList()}))}})},payOrder:function(t){if(""!=t){var e=uni.getStorageSync("token");console.log(e[0]),""!=e[0]&&null!=e[0]&&0!=e[0]||(uni.showToast({title:"登录过期!请重新登录",icon:"none"}),setTimeout((function(){uni.navigateTo({url:"/pages/components/login/login"})}),1e3));var o=encodeURIComponent("https://admin.dxsc.vip/index.php?s=/wap/pay/ApiwchatPay&no="+t+"&token="+e[0]),i="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7cffa961be69b86e&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";window.location.href=i}else uni.showToast({title:"订单错误,请重新进入本页面!",icon:"none"})},orderEvaluate:function(t){uni.navigateTo({url:"/pages/components/appraise/appraise?id="+t})},refundGoods:function(t){}}};e.default=n},9700:function(t,e,o){"use strict";var i,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("v-uni-view",{staticClass:"nav-box"},[o("v-uni-view",{staticClass:"nav"},[t._l(t.navList,(function(e,i){return[o("v-uni-view",{key:i+"_0",staticClass:"nav-item ",class:{active:t.currentIndex==i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleNav(i)}}},[o("v-uni-text",[t._v(t._s(e))])],1)]}))],2)],1),1==t.visible?o("v-uni-view",{staticClass:"animated fadeInLeft"},[t._l(t.list,(function(e,i){return[o("v-uni-view",{key:i+"_0",staticClass:"goods-box"},[o("v-uni-view",{staticClass:"goods"},[o("v-uni-view",{staticClass:"goods-title"},[o("v-uni-text",[t._v(t._s(e.create_date))]),o("v-uni-text",[t._v(t._s(e.status_name))])],1),t._l(e.order_item_list,(function(i,n){return[o("v-uni-view",{key:n+"_0",staticClass:"product",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderDetail(e.order_id)}}},[o("v-uni-view",{staticClass:"product-img"},[o("v-uni-image",{attrs:{src:t.baseURL+i.picture.pic_cover,mode:""}})],1),o("v-uni-view",{staticClass:"product-title"},[o("v-uni-view",{staticClass:"title"},[o("v-uni-text",{staticStyle:{display:"-webkit-box","-webkit-line-clamp":"3","-webkit-box-orient":"vertical",overflow:"hidden"}},[t._v(t._s(i.goods_name))])],1),o("v-uni-view",{staticClass:"params"},[o("v-uni-text",[t._v(t._s(i.sku_name))])],1)],1),o("v-uni-view",{staticClass:"product-price"},[o("v-uni-view",{staticClass:"price"},[o("v-uni-text",[t._v("￥"+t._s(i.price))])],1),o("v-uni-view",{staticClass:"number"},[o("v-uni-text",[t._v("×"+t._s(i.num))])],1)],1)],1),o("v-uni-view",{key:n+"_1",staticClass:"product-status"},[o("v-uni-text",{staticClass:"status"}),1==e.is_refund&&0==i.refund_status?o("v-uni-text",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refundGoods(i.order_goods_id)}}},[t._v("退款/退货")]):t._e(),0!=i.refund_status?o("v-uni-text",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.refundGoods(i.order_goods_id)}}},[t._v(t._s(i.status_name))]):t._e()],1)]})),o("v-uni-view",{staticClass:"total"},[o("v-uni-view",[o("v-uni-text",[t._v("共"+t._s(e.order_item_list.length)+"件商品，合计：￥"+t._s(e.order_money)+"(含运费￥"+t._s(e.shipping_money)+")")])],1),o("v-uni-view",[t._l(e.member_operation,(function(i,n){return["pay"==i.no?o("v-uni-text",{key:n+"_0",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.payOrder(e.out_trade_no)}}},[t._v(t._s(i.name))]):t._e(),"close"==i.no?o("v-uni-text",{key:n+"_1",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderClose(e.order_id)}}},[t._v(t._s(i.name))]):t._e(),"logistics"==i.no?o("v-uni-text",{key:n+"_2",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderLogistics(e.order_id)}}},[t._v(t._s(i.name))]):t._e(),"getdelivery"==i.no?o("v-uni-text",{key:n+"_3",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.OrderTakeDelivery(e.order_id)}}},[t._v(t._s(i.name))]):t._e(),"delete_order"==i.no?o("v-uni-text",{key:n+"_4",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderDeleteOrder(e.order_id)}}},[t._v(t._s(i.name))]):t._e()]})),3!=e.order_status&&4!=e.order_status||0!=e.is_evaluate?t._e():o("v-uni-text",{on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.orderEvaluate(e.order_id)}}},[t._v("评价")])],2)],1)],2)],1)]}))],2):t._e()],1)},a=[];o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return i}))},eb4d:function(t,e,o){"use strict";var i=o("29f1"),n=o.n(i);n.a},ed8d:function(t,e,o){"use strict";o.r(e);var i=o("9700"),n=o("086a");for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);o("eb4d");var s,d=o("f0c5"),r=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"7c632bb0",null,!1,i["a"],s);e["default"]=r.exports}}]);