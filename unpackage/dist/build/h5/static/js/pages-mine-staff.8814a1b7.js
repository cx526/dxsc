(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mine-staff"],{"39bb":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".toolbar[data-v-67fea2c0]{width:100%;padding:0 2%;line-height:%?80?%;border-bottom:%?1?% #eee solid;overflow:hidden}.toolbar-left[data-v-67fea2c0]{color:#888;font-size:%?30?%;float:left}.toolbar-right-btn[data-v-67fea2c0]{font-size:%?30?%;float:right;padding:0 %?30?%;background-color:#fed940;color:#fff}.list[data-v-67fea2c0]{width:100%;overflow:hidden}.list-item[data-v-67fea2c0]{width:100%;padding:%?15?% 2%;overflow:hidden;border-bottom:%?1?% #eee solid}.list-item-left[data-v-67fea2c0]{float:left;width:21%;border-right:%?1?% #eee solid;padding:0 1%;overflow:hidden;font-size:%?30?%;color:#888}.list-item-left-avatar[data-v-67fea2c0]{border-radius:%?5?%;display:block;width:%?100?%;height:%?100?%;margin:%?10?% auto}.list-item-left-name[data-v-67fea2c0]{line-height:%?60?%;text-align:center}.list-item-right[data-v-67fea2c0]{float:left;width:71%;padding:0 2%;overflow:hidden;font-size:%?30?%;line-height:%?50?%;color:#888}.list-item-right-item[data-v-67fea2c0]{float:left;width:100%;text-align:left}.list-item-right-item uni-text[data-v-67fea2c0]{color:#f76260}.list-item-right-item uni-input[data-v-67fea2c0]{vertical-align:middle;font-size:%?30?%;display:inline-block;line-height:%?50?%;color:#f76260}.list-item-right-block[data-v-67fea2c0]{width:96%;padding:0 2%;overflow:hidden}.list-item-right-btn[data-v-67fea2c0]{margin-top:%?10?%;display:inline-block;height:%?50?%;line-height:%?50?%;border-radius:%?5?%;padding:0 %?30?%;background-color:#10aeff;color:#fff}.list-item-right-item .label[data-v-67fea2c0]{width:48%;padding-right:2%;float:left;text-align:left;line-height:%?50?%;color:#888}.list-item-right-item .input[data-v-67fea2c0]{width:45%;padding:0 2%;border:1px solid #eee;float:left;text-align:left;line-height:%?50?%;color:#f76260}.save-btn[data-v-67fea2c0]{background-color:#fed940}",""]),t.exports=i},"3be7":function(t,i,e){"use strict";var a=e("76b8"),s=e.n(a);s.a},"46fd":function(t,i,e){"use strict";var a,s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"toolbar"},[e("v-uni-view",{staticClass:"toolbar-left"},[t._v("员工总数："),e("v-uni-text",[t._v(t._s(t.count))])],1),e("v-uni-view",{staticClass:"toolbar-right-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.bind.apply(void 0,arguments)}}},[t._v("绑定新员工")])],1),e("v-uni-view",{staticClass:"list"},[t._l(t.list,(function(i,a){return[e("v-uni-view",{key:a+"_0",staticClass:"list-item"},[e("v-uni-view",{staticClass:"list-item-left"},[e("v-uni-image",{staticClass:"list-item-left-avatar",attrs:{src:t.baseURL+i.user_headimg}}),e("v-uni-view",{staticClass:"list-item-left-name"},[t._v(t._s(i.nick_name))])],1),e("v-uni-view",{staticClass:"list-item-right"},[0==i.is_edit?[e("v-uni-view",{staticClass:"list-item-right-item"},[t._v("普通会员："),e("v-uni-text",[t._v(t._s(i.staff_rate1))]),t._v("%")],1),e("v-uni-view",{staticClass:"list-item-right-item"},[t._v("VIP会员："),e("v-uni-text",[t._v(t._s(i.staff_rate2))]),t._v("%")],1),e("v-uni-view",{staticClass:"list-item-right-item"},[t._v("商家："),e("v-uni-text",[t._v(t._s(i.staff_rate3))]),t._v("%")],1),e("v-uni-view",{staticClass:"list-item-right-item"},[t._v("其他等级："),e("v-uni-text",[t._v(t._s(i.staff_rate4))]),t._v("%")],1),e("v-uni-view",{staticClass:"list-item-right-item"},[t._v("营业额："),e("v-uni-text",[t._v(t._s(i.staff_rate5))]),t._v("%")],1)]:t._e(),1==i.is_edit?[e("v-uni-view",{staticClass:"list-item-right-item"},[e("v-uni-view",{staticClass:"label"},[t._v("普通会员(%)")]),e("v-uni-input",{staticClass:"input",attrs:{"data-key":"0",type:"digit",value:t.savedata[0]},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"list-item-right-item"},[e("v-uni-view",{staticClass:"label"},[t._v("VIP会员(%)")]),e("v-uni-input",{staticClass:"input",attrs:{"data-key":"1",type:"digit",value:t.savedata[1]},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"list-item-right-item"},[e("v-uni-view",{staticClass:"label"},[t._v("商家(%)")]),e("v-uni-input",{staticClass:"input",attrs:{"data-key":"2",type:"digit",value:t.savedata[2]},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"list-item-right-item"},[e("v-uni-view",{staticClass:"label"},[t._v("其他等级(%)")]),e("v-uni-input",{staticClass:"input",attrs:{"data-key":"3",type:"digit",value:t.savedata[3]},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"list-item-right-item"},[e("v-uni-view",{staticClass:"label"},[t._v("营业额(%)")]),e("v-uni-input",{staticClass:"input",attrs:{"data-key":"4",type:"digit",value:t.savedata[4]},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.change.apply(void 0,arguments)}}})],1)]:t._e(),e("v-uni-view",{staticClass:"list-item-right-block"},[0==i.is_edit?e("v-uni-text",{staticClass:"list-item-right-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.edit(i,a)}}},[t._v("编辑")]):t._e(),1==i.is_edit?e("v-uni-text",{staticClass:"list-item-right-btn save-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.save(i,a)}}},[t._v("保存")]):t._e(),1==i.is_edit?e("v-uni-text",{staticClass:"list-item-right-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel(i,a)}}},[t._v("取消")]):t._e()],1)],2)],1)]}))],2)],1)},n=[];e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return a}))},"76b8":function(t,i,e){var a=e("39bb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("9b87e942",a,!0,{sourceMap:!1,shadowMode:!1})},9499:function(t,i,e){"use strict";e.r(i);var a=e("d7c4"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);i["default"]=s.a},c013:function(t,i,e){"use strict";e.r(i);var a=e("46fd"),s=e("9499");for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);e("3be7");var l,d=e("f0c5"),o=Object(d["a"])(s["default"],a["b"],a["c"],!1,null,"67fea2c0",null,!1,a["a"],l);i["default"]=o.exports},d7c4:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("0708"),s={data:function(){return{baseURL:this.$api,is_boss:0,qrcode:"",list:[],count:0,savedata:[],editUid:0}},onLoad:function(){this.getList()},methods:{bind:function(){uni.navigateTo({url:"/pages/mine/invite"})},getList:function(){var t=this;(0,a.request)({url:"index.php?s=/wap/member/apiStaffList",method:"POST"}).then((function(i){1==i.data.code&&(t.count=i.data.count,t.list=i.data.list)}))},change:function(t){this.savedata[t.target.dataset.key]=t.detail.value},edit:function(t,i){this.list[i].is_edit=1,this.savedata=[t.staff_rate1,t.staff_rate2,t.staff_rate3,t.staff_rate4,t.staff_rate5],this.editUid=t.uid,console.log(this.savedata)},save:function(t,i){var e=this,s=this.savedata;(0,a.request)({url:"index.php?s=/wap/member/apiEditStaff",data:{uid:e.editUid,rate1:s[0],rate2:s[1],rate3:s[2],rate4:s[3],rate5:s[4]},method:"POST"}).then((function(t){uni.showToast({title:t.data.msg,icon:"none"}),1==t.data.code&&(e.list[i].staff_rate1=s[0],e.list[i].staff_rate2=s[1],e.list[i].staff_rate3=s[2],e.list[i].staff_rate4=s[3],e.list[i].staff_rate5=s[4],e.list[i].is_edit=0)}))},cancel:function(t,i){this.list[i].is_edit=0}}};i.default=s}}]);