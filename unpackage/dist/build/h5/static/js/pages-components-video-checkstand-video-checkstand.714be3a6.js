(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-components-video-checkstand-video-checkstand"],{"3b94":function(e,t,a){"use strict";a.r(t);var i=a("b7ab"),s=a.n(i);for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);t["default"]=s.a},7854:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-f7503cb8]{background:#f3f3f3}.pay[data-v-f7503cb8]{box-sizing:border-box;line-height:%?70?%;padding:0 %?30?%;font-size:%?28?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff}.way[data-v-f7503cb8]{margin-top:%?80?%;font-size:%?28?%}.way .title[data-v-f7503cb8]{line-height:%?90?%;padding:0 %?30?%;border-bottom:1px solid #f1f1f1;background:#fff}.way .item[data-v-f7503cb8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;line-height:%?90?%;padding:0 %?30?%;background:#fff;border-bottom:1px solid #f1f1f1}.way .item uni-view[data-v-f7503cb8]{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.way .item uni-view uni-image[data-v-f7503cb8]{width:%?40?%;height:%?40?%;margin-right:%?12?%}.way .item uni-view uni-text[data-v-f7503cb8]{font-size:%?28?%}.pay-item[data-v-f7503cb8]{box-sizing:border-box;padding:%?30?%;border-bottom:1px solid #e5e5e5;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?28?%;color:#000;background:#fff}.btn[data-v-f7503cb8]{box-sizing:border-box;position:fixed;bottom:0;left:0;width:100%}.pay-box[data-v-f7503cb8]{box-sizing:border-box}.pay-box .pay-item[data-v-f7503cb8]{box-sizing:border-box;margin-top:%?24?%;line-height:%?70?%;background:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;padding:0 %?30?%}body.?%PAGE?%[data-v-f7503cb8]{background:#f3f3f3}',""]),e.exports=t},"79f1":function(e,t,a){"use strict";var i=a("d622"),s=a.n(i);s.a},8211:function(e,t,a){"use strict";var i,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"pay"},[a("v-uni-text",[e._v("需要支付")]),a("v-uni-text",{staticStyle:{color:"#f00"}},[e._v("￥"+e._s(e.add))])],1),e.userPay.discount_num?a("v-uni-view",{staticClass:"pay",staticStyle:{"margin-top":"30rpx"}},[a("v-uni-text",[e._v("折扣")]),a("v-uni-text",{staticStyle:{color:"#f00"}},[e._v("￥"+e._s(e.userPay.discount_num))])],1):e._e(),a("v-uni-view",{staticClass:"pay-box"},[a("v-uni-view",{staticClass:"pay-item"},[a("v-uni-text",[e._v("现金券：￥"+e._s(e.res.n_money))]),a("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"number",placeholder:"请输入使用额度","placeholder-style":"color:#ccc"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.money(t)}},model:{value:e.cash,callback:function(t){e.cash=t},expression:"cash"}})],1),a("v-uni-view",{staticClass:"pay-item"},[a("v-uni-text",[e._v("余额：￥"+e._s(e.res.balance))]),a("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"number",placeholder:"请输入使用余额","placeholder-style":"color:#ccc"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.changeBalance(t)}},model:{value:e.balance,callback:function(t){e.balance=t},expression:"balance"}})],1)],1),a("v-uni-view",{staticClass:"way"},[a("v-uni-view",{staticClass:"title"},[e._v("选择支付方式")]),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:"/static/images/payment.png",mode:""}}),a("v-uni-text",[e._v("余额支付")])],1),a("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#FED940",checked:e.balanceWay},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleBalance.apply(void 0,arguments)}}})],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:"/static/images/wx-pay.png",mode:""}}),a("v-uni-text",[e._v("微信支付")])],1),a("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{color:"#FED940",checked:e.payWay},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePayWay.apply(void 0,arguments)}}})],1)],1),e.passwordWin?a("v-uni-view",{staticClass:"pay-item"},[a("v-uni-input",{attrs:{type:"password",placeholder:"请输入支付密码","placeholder-style":"color: #C0C0C0"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.getUserPassword.apply(void 0,arguments)}}})],1):e._e(),a("v-uni-view",{staticClass:"btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleOrder.apply(void 0,arguments)}}},[a("v-uni-button",{staticStyle:{"font-size":"30rpx",background:"#FED940",color:"#fff"}},[e._v("支付")])],1)],1)},n=[];a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return i}))},9623:function(e,t,a){"use strict";a.r(t);var i=a("8211"),s=a("3b94");for(var n in s)"default"!==n&&function(e){a.d(t,e,(function(){return s[e]}))}(n);a("79f1");var o,c=a("f0c5"),r=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,"f7503cb8",null,!1,i["a"],o);t["default"]=r.exports},b7ab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("a481"),a("c5f6");var i=a("0708"),s={data:function(){return{goods_id:"",mobile:"",userPay:{},cash:"",balance:"",passwordWin:!1,payWay:!0,balanceWay:!1,res:{},add:"",userPassword:""}},onLoad:function(e){this.getUserMoney(),this.goods_id=e.id,this.mobile=e.mobile,this.getUserPay()},methods:{getUserMoney:function(){var e=this;(0,i.request)({url:"index.php?s=/wap/member/getMomeyInfo"}).then((function(t){e.res=t.data.data,console.log(e.res)}))},getUserPay:function(){var e=this;(0,i.request)({url:"index.php?s=/wap/media/buyMediaGoodsPay",method:"post",data:{mobile:this.mobile,goods_id:this.goods_id}}).then((function(t){e.userPay=t.data,e.add=parseFloat(t.data.price),console.log(e.userPay)}))},money:function(e){var t=this;if(this.passwordWin=!(!e.detail.value&&!this.balance),this.cash=parseInt(e.detail.value)||0,0==this.res.n_money||!this.res.n_money)return setTimeout((function(){t.cash=0}),50),void uni.showToast({title:"现金券为零",icon:"none"});this.cash=parseInt(e.detail.value)||0;var a=parseFloat(this.userPay.price),i=parseFloat(this.res.n_money),s=this.cash+(parseInt(this.balance)?parseInt(this.balance):0);""==this.balance?i<a?this.cash>i?setTimeout((function(){t.cash=i,t.add=(a-t.cash).toFixed(2)}),50):this.add=(a-this.cash).toFixed(2):this.cash>a?(setTimeout((function(){t.cash=a}),50),this.add=0):this.add=(a-this.cash).toFixed(2):""!=this.balance&&(i>a?s>=a?this.cash<a?(setTimeout((function(){t.balance=(a-t.cash).toFixed(2)}),50),this.add=0):(setTimeout((function(){t.cash=a,t.balance=0}),50),this.add=0):this.add=(a-this.balance-this.cash).toFixed(2):s>=a&&this.cash>i?setTimeout((function(){t.cash=i,t.add=(a-t.balance-i).toFixed(2)}),50):this.add=(a-this.balance-this.cash).toFixed(2))},changeBalance:function(e){var t=this;this.passwordWin=!(!e.detail.value&&!this.cash),this.balance=parseInt(e.detail.value)||0;var a=parseFloat(this.userPay.price),i=parseFloat(this.res.balance);this.balance,parseInt(this.cash)&&parseInt(this.cash);this.cash==a&&setTimeout((function(){t.balance=0}),50),""==this.cash||0==this.cash?i&&i>=a?this.balance>a?(setTimeout((function(){t.balance=a}),50),this.add=0):this.add=(a-this.balance).toFixed(2):this.balance>i?setTimeout((function(){t.balance=i,t.add=(a-t.balance).toFixed(2)}),50):this.add=(a-this.balance).toFixed(2):i&&i>=a?this.balance>a-this.cash?(setTimeout((function(){t.balance=a-t.cash})),this.add=0):this.add=(a-this.balance-this.cash).toFixed(2):this.balance>i?setTimeout((function(){t.balance=i,t.add=(a-t.balance-t.cash).toFixed(2)}),50):this.add=(a-this.balance-this.cash).toFixed(2)},handleBalance:function(){if(this.balanceWay=!this.balanceWay,this.payWay=!this.balanceWay,this.balanceWay)if(this.passwordWin=!0,parseInt(this.res.balance)>parseInt(this.userPay.price))this.cash?this.balance=(this.userPay.price-this.cash).toFixed(2):this.balance=this.userPay.price,this.add=0;else if(this.res.balance<this.userPay.price&&this.res.balance&&this.cash)if(Number(this.balance)+Number(this.cash)>this.userPay.price)this.balance=(this.userPay.price-this.cash).toFixed(2),this.add=0;else{var e=this.cash||0;this.add=(this.userPay.price-this.balance-e).toFixed(2)}},handlePayWay:function(){this.payWay=!this.payWay,this.balanceWay=!this.payWay,this.payWay&&(this.balance="",this.cash&&this.balance?this.add=(this.userPay.price-this.cash-this.balance).toFixed(2):this.cash?this.add=(this.userPay.price-this.cash).toFixed(2):this.balance?this.add=(this.userPay.price-this.balance).toFixed(2):this.add=this.userPay.price)},getUserPassword:function(e){this.userPassword=e.detail.value.replace(/\s+/g,"")},handleOrder:function(){var e=this;if(console.log("handleOrder"),this.cash||this.balance){if(""==this.userPassword)return void uni.showToast({title:"请输入支付密码",icon:"none"});(0,i.request)({url:"index.php?s=/wap/member/checkPayPass",method:"post",data:{paypass:this.userPassword}}).then((function(t){t.data.code<0?uni.showModal({title:t.data.msg,content:"是否前往设置支付密码？",success:function(e){e.confirm&&uni.navigateTo({url:"/pages/components/setPayPassword/setPayPassword"})}}):(uni.showToast({title:"数据加载中",icon:"none"}),(0,i.request)({url:"index.php?s=/wap/media/createOrderForMedia",method:"post",data:{n_money:e.cash?e.cash:0,balance:e.balance?e.balance:0,mobile:e.mobile?e.mobile:""}}).then((function(t){if(uni.hideToast(),console.log(t),console.log(t.data[0].code),t.data[0].code>0){var a=parseInt(e.balance)?parseInt(e.balance):0,i=parseInt(e.cash)?parseInt(e.cash):0;if(i+a>=parseInt(e.userPay.price))uni.navigateTo({url:"/pages/components/order/order?status=2"});else{var s=t,n=uni.getStorageSync("token")[0];if(console.log(n),""==n)uni.showToast({title:"请先登录",icon:"none"}),setTimeout((function(){uni.navigateTo({url:"/pages/components/login/login"})}),500);else{var o=encodeURIComponent("https://admin.dxsc.vip/index.php?s=/wap/pay/ApiwchatPay&no="+s.data[0].order_no+"&token="+n),c="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7cffa961be69b86e&redirect_uri="+o+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";window.location.href=c}}}else uni.showToast({title:t.data.msg,icon:"none"})})))}))}else this.balance||this.cash||!this.payWay||(0,i.request)({url:"index.php?s=/wap/media/createOrderForMedia",method:"post",data:{n_money:this.cash?this.cash:0,balance:this.balance?this.balance:0,mobile:this.mobile?this.mobile:""}}).then((function(e){if(e.data[0].code>0){var t=e,a=uni.getStorageSync("token")[0];if(""==a)uni.showToast({title:"请先登录",icon:"none"}),setTimeout((function(){uni.navigateTo({url:"/pages/components/login/login"})}),500);else{var i=encodeURIComponent("https://admin.dxsc.vip/index.php?s=/wap/pay/ApiwchatPay&no="+t.data[0].order_no+"&token="+a),s="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx7cffa961be69b86e&redirect_uri="+i+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect";window.location.href=s}}else uni.showToast({title:e.data.msg,icon:"none"})}))}}};t.default=s},d622:function(e,t,a){var i=a("7854");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("4f06").default;s("2622c87f",i,!0,{sourceMap:!1,shadowMode:!1})}}]);